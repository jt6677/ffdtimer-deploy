(this["webpackJsonpffdtimer-deploy"]=this["webpackJsonpffdtimer-deploy"]||[]).push([[0],{164:function(e,t,n){},170:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},197:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),c=n(42),i=n.n(c),o=n(15),l=n(16),u=n(18),d=n(17),j=n(14),h=(n(164),n(21)),b=n(10),m=(n(170),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderAuthButton",value:function(){return this.props.authenticated&&""!==this.props.authenticated?Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{className:"link text-link",to:"/",children:"Timer"}),Object(a.jsx)(h.a,{className:"link text-link",to:"/datepicker",children:"Date-pick"}),Object(a.jsx)(h.a,{className:"link text-link ",to:"/signout",children:"Sign Out"})]}):Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{className:"link text-link ",to:"/signinandsignup",children:"New Account"}),Object(a.jsx)(h.a,{className:"link text-link ",to:"/signin",children:"Sign In"})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"navbar",style:{backgroundImage:"none"},children:this.renderAuthButton()})}}]),n}(s.Component)),p=Object(b.b)((function(e){return{authenticated:e.auth.authenticated}}))(m),O=n(158),x=(n(174),n.p+"static/media/welldone.b7666902.mp3"),v=(n(175),n(45)),f=n.n(v);var g=function(e){var t=e.history,n=t.map((function(e){return Object(a.jsxs)("tr",{className:"sessiontable__tr__content",children:[Object(a.jsx)("td",{className:"cell",children:e.ID}),Object(a.jsx)("td",{className:"cell",children:e.StartedAt}),Object(a.jsx)("td",{className:"cell",children:f()(e.UpdatedAt).format("YYYY-MM-DD HH:mm:ss")})]},e.ID)}));return t.length>0?Object(a.jsx)("div",{children:Object(a.jsxs)("table",{className:" sessiontable table table-hover table-mc-light-blue",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsxs)("th",{className:"sessiontable__count",children:["Total: ",t.length]})}),Object(a.jsxs)("tr",{className:"sessiontable__tr",children:[Object(a.jsx)("th",{className:"head",children:"Session_ID"}),Object(a.jsx)("th",{className:"head",children:"Started"}),Object(a.jsx)("th",{className:"head",children:"Ended"})]})]}),Object(a.jsx)("tbody",{children:n})]})}):Object(a.jsx)("div",{})},y=n(33),N=n(151),S=n.n(N)()();function k(e){var t=function(t){Object(u.a)(s,t);var n=Object(d.a)(s);function s(){return Object(o.a)(this,s),n.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||S.push("/signinandsignup")}},{key:"render",value:function(){return Object(a.jsx)(e,Object(y.a)({},this.props))}}]),s}(s.Component);return Object(b.b)((function(e){return{auth:e.auth.authenticated}}))(t)}var w=n(35),M=n.n(w),I=n(61),C="auth_user",D="auth_error",_="get_dailysession",L="get_dailysession_error",A=n(152),R=n.n(A).a.create({baseURL:"http://localhost:8080"}),F=n(79),G=n.n(F),B=3600,Y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={timeRemain:"",currentSessionID:null,minutes:"",seconds:"",counting:!1,sessionStarted:"",history:[]},e.audio=new Audio(x),e.onAddSession=function(){var t={ID:e.state.history.length+1,StartedAt:e.state.sessionStarted,UpdatedAt:e.getCurrentTime()};e.setState((function(e){return{history:[].concat(Object(O.a)(e.history),[t])}})),e.props.sendEndSig(e.state.sessionStarted),localStorage.setItem("sessionhistory",JSON.stringify(e.state.history))},e.timerStart=function(){e.setState({counting:!0,sessionStarted:e.getCurrentTime()});var t=setInterval((function(){e.state.timeRemain>0?(e.setState((function(e){return{timeRemain:e.timeRemain-1}})),e.changeMinSec(e.state.timeRemain),localStorage.setItem("timeRemain",e.state.timeRemain)):(e.audio.play(),localStorage.removeItem("timeRemain"),e.setState({timeRemain:B,counting:!1}),e.onAddSession(),clearInterval(t))}),1e3);e.setState({currentSessionID:t})},e.changeMinSec=function(t){var n=parseInt(t/60,10),a=parseInt(t%60,10);n=n<10?"0"+n:n,a=a<10?"0"+a:a,e.setState({minutes:n,seconds:a})},e}return Object(l.a)(n,[{key:"renderButtons",value:function(){var e=this;return Object(a.jsxs)("div",{className:"buttonBlock",children:[Object(a.jsx)("button",{className:this.state.counting?"ButtonDisabled":" ActiveButton",disabled:this.state.counting,onClick:function(){return e.timerStart()},children:"Start"}),"   ",Object(a.jsx)("button",{className:this.state.counting?" ActiveButton":"ButtonDisabled",disabled:!this.state.counting,onClick:function(){return e.timerPause()},children:"Pause"})]})}},{key:"getCurrentTime",value:function(){var e=new Date;return f()(e).format("YYYY-MM-DD HH:mm:ss")}},{key:"timerPause",value:function(){clearInterval(this.state.currentSessionID),this.setState({counting:!1})}},{key:"componentDidMount",value:function(){var e=this;!0===localStorage.hasOwnProperty("timeRemain")?this.setState({timeRemain:localStorage.getItem("timeRemain")},(function(){return e.changeMinSec(e.state.timeRemain)})):this.setState({timeRemain:B},(function(){return e.changeMinSec(e.state.timeRemain)})),null!==localStorage.getItem("sessionhistory")&&this.setState({history:JSON.parse(localStorage.getItem("sessionhistory"))})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"mainbody",children:[Object(a.jsx)("div",{className:".timer-box",children:Object(a.jsx)("div",{className:"countdown",children:Object(a.jsxs)("div",{className:"tiles",children:[Object(a.jsx)("span",{className:"minute whitebox",children:this.state.minutes}),Object(a.jsx)("span",{className:"second whitebox",children:this.state.seconds}),Object(a.jsxs)("div",{className:"labels",children:[Object(a.jsx)("li",{children:"Mins"}),Object(a.jsx)("li",{children:"Secs"})]})]})})}),this.renderButtons(),Object(a.jsx)(g,{history:this.state.history})]})}}]),n}(s.Component),U={sendEndSig:function(e){return function(){var t=Object(I.a)(M.a.mark((function t(n){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={url:"/recordsession",method:"post",data:{usertoken:localStorage.getItem("remember_token"),startedat:e}};try{R.request(a)}catch(n){console.log(n)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},q=k(Object(b.b)(null,U)(Y)),T=(n(82),n.p+"static/media/circle250.439011ca.png"),P=(n(197),function(e){if(e)return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"wisdom-line__One",children:'"Drop By Drop,'}),Object(a.jsx)("p",{className:"wisdom-line__Two",children:' "The Bucket Will Be Filled."'})]})});var W=function(e){var t=e.showWisdom;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:" logo-container",children:Object(a.jsx)("img",{className:"logo",src:T,alt:"FallForward"})}),Object(a.jsx)("h1",{className:"slogon",children:"Fall Forward"})]}),P(t)]})},Z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"main-body",children:[Object(a.jsx)(W,{showWisdom:!0}),Object(a.jsx)("div",{className:"buttonList",children:Object(a.jsxs)("ul",{className:"buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{className:"primary",to:"/signin",children:"Log In"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{className:"signupbutton",to:"/signup",children:"Sign Up"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{to:"/",className:"minor",children:"\u27f5 Go back"})})]})})]})}}]),n}(s.Component),H=function(e){switch(e){case"user":return"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z";case"password":return"M5 15 L5 30 27 30 27 15 Z M9 15 C9 9 9 5 16 5 23 5 23 9 23 15 M16 20 L16 23";case"mobile":return"M21 2 L11 2 C10 2 9 3 9 4 L9 28 C9 29 10 30 11 30 L21 30 C22 30 23 29 23 28 L23 4 C23 3 22 2 21 2 Z M9 5 L23 5 M9 27 L23 27";case"calendar":return"M2 6 L2 30 30 30 30 6 Z M2 15 L30 15 M7 3 L7 9 M13 3 L13 9 M19 3 L19 9 M25 3 L25 9";default:return""}},J=function(e){return Object(a.jsx)("svg",{style:{width:"2rem",height:"1.5rem"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",stroke:"currentColor",className:"icon",children:Object(a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6.25%",d:H(e.iconName)})})},E=n(363),z=n(362),K=function(e){return e||"number"===typeof e?void 0:"Required"},Q=function(e){return function(t){return t&&t.length<e?"Must be ".concat(e," characters or more"):void 0}},V=Q(4),X=Q(6),$=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).onSubmit=function(t){e.props.signIn(t)},e.renderInput=function(e){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsx)("label",{htmlFor:"name",children:Object(a.jsx)(J,{className:"icon",iconName:e.label})}),Object(a.jsx)("input",{onChange:e.input.onChange,value:e.input.value,type:e.type,placeholder:e.placeholder,autoComplete:"off"})]}),Object(a.jsx)("div",{className:"errorMSG",children:e.meta.touched&&e.meta.error&&Object(a.jsx)("span",{children:e.meta.error})})]})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"main-body",children:[Object(a.jsx)(W,{showWisdom:!0}),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:" signin-container error",onSubmit:this.props.handleSubmit(this.onSubmit),children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{type:"text",name:"username",placeholder:" Username or Cellphone",component:this.renderInput,validate:[K,V],label:"user"}),Object(a.jsx)(E.a,{type:"password",name:"password",placeholder:" Password",component:this.renderInput,validate:[K,X],label:"password"})]}),Object(a.jsxs)("div",{className:"buttonList",children:[Object(a.jsx)("div",{className:"errorMSG",children:this.props.errorMessage}),Object(a.jsxs)("ul",{className:"buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)("input",{className:this.props.pristine||this.props.submitting?"primary signinbutton disabled ":"primary signinbutton ",type:"submit",value:"Log In"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{to:"/signinandsignup",className:"minor",children:"\u27f5 Go back"})})]})]})]})})]})}}]),n}(s.Component),ee=Object(z.a)({form:"signinform"})($),te={signIn:function(e){return function(){var t=Object(I.a)(M.a.mark((function t(n){var a,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={url:"/signin",method:"post",data:Object(y.a)({},e)},t.prev=1,t.next=4,R.request(a);case 4:""!==(s=t.sent).data.errormsg?n({type:D,payload:s.data.errormsg}):(n({type:C,payload:s.data.response}),localStorage.setItem("remember_token",s.data.response),G.a.set("remember_token",s.data.response,{sameSite:"None",secure:!0}),S.push("/")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:D,payload:"Network Failed"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},ne=Object(b.b)((function(e){return{errorMessage:e.auth.errorMessage}}),te)(ee),ae=function(e){return e||"number"===typeof e?void 0:"Required"},se=function(e){return function(t){return t&&t.length<e?"Must be ".concat(e," characters or more"):void 0}},re=se(4),ce=se(6),ie=se(11),oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.signUp(t)},e.renderInput=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsx)("label",{htmlFor:"name",children:Object(a.jsx)(J,{className:"icon",iconName:e.label})}),Object(a.jsx)("input",{onChange:e.input.onChange,value:e.input.value,type:e.type,placeholder:e.placeholder,autoComplete:"off"})]}),Object(a.jsx)("div",{className:"errorMSG",children:e.meta.touched&&e.meta.error&&Object(a.jsx)("span",{children:e.meta.error})})]})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"main-body",children:[Object(a.jsx)(W,{}),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{className:"signin-container",onSubmit:this.props.handleSubmit(this.onSubmit),children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{type:"text",name:"username",placeholder:" Username",component:this.renderInput,validate:[ae,re],label:"user"}),Object(a.jsx)(E.a,{type:"text",name:"cellphone",placeholder:" Cellphone",component:this.renderInput,validate:[ae,ie],label:"mobile"}),Object(a.jsx)(E.a,{type:"password",name:"password",placeholder:" Password",component:this.renderInput,validate:[ae,ce],label:"password"})]}),Object(a.jsxs)("div",{className:"buttonList",children:[Object(a.jsx)("div",{children:this.props.errorMessage}),Object(a.jsxs)("ul",{className:"buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)("input",{className:this.props.pristine||this.props.submitting?"primary signinbutton disabled ":"primary signinbutton ",type:"submit",value:"Log In"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{to:"/signinandsignup",className:"minor",children:"\u27f5 Go back"})})]})]})]})})]})}}]),n}(s.Component),le=Object(z.a)({form:"signupform"})(oe),ue={signUp:function(e){return function(){var t=Object(I.a)(M.a.mark((function t(n){var a,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={url:"/signup",method:"post",data:Object(y.a)({},e)},console.log(e),t.prev=2,t.next=5,R.request(a);case 5:""!==(s=t.sent).data.errormsg?n({type:D,payload:s.data.errormsg}):(n({type:C,payload:s.data.response}),localStorage.setItem("remember_token",s.data.response),G.a.set("remember_token",s.data.response),S.push("/")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:D,payload:"Network Failed"});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}},de=Object(b.b)((function(e){return{errorMessage:e.auth.errorMessage}}),ue)(le),je=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.signOut()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Z,{})})}}]),n}(s.Component),he={signOut:function(){return localStorage.removeItem("remember_token"),G.a.remove("remember_token"),{type:C,payload:""}}},be=Object(b.b)(null,he)(je),me=n(155),pe=n.n(me),Oe=(n(296),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={selecteddate:new Date},e.handleSubmit=function(t){t.preventDefault();var n=f()(e.state.selecteddate).format("YYYYMMDD");e.props.checkDailySession(n)},e.handleChange=function(t){e.setState({selecteddate:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"main-body",children:[Object(a.jsx)(W,{showWisdom:!0}),Object(a.jsxs)("form",{className:" signin-container",onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{htmlFor:"name",children:Object(a.jsx)(J,{className:"icon",iconName:"calendar"})}),Object(a.jsx)(pe.a,{className:"datepicker",selected:this.state.selecteddate,onChange:function(t){return e.handleChange(t)},dateFormat:"yyyyMMdd",isClearable:!0}),Object(a.jsxs)("div",{className:"buttonList",children:[Object(a.jsx)("span",{className:"errorMSG",children:this.props.errorMSG}),Object(a.jsxs)("ul",{className:"buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)("input",{type:"submit",value:"Go",className:"primary signinbutton"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.a,{to:"/signinandsignup",className:"minor",children:"\u27f5 Go back"})})]})]})]})]})}}]),n}(s.Component)),xe={checkDailySession:function(e){return function(){var t=Object(I.a)(M.a.mark((function t(n){var a,s,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/dailysession/".concat(e),s={url:a,method:"post",crossDomain:!0,mode:"cors",withCredentials:!0,data:{usertoken:localStorage.getItem("remember_token")}},t.prev=2,t.next=5,R.request(s);case 5:0===(r=t.sent).data.length?n({type:L,payload:"No Session is Found on ".concat(e)}):(console.log(r.data),n({type:_,payload:r.data}),S.push("/date/".concat(e))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:D,payload:"Network Failed"});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}},ve=k(Object(b.b)((function(e){return{errorMSG:e.getSession.errorMSG}}),xe)(Oe)),fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"main-body",children:Object(a.jsx)(g,{history:this.props.sessions})})}}]),n}(s.Component),ge=k(Object(b.b)((function(e){return{sessions:e.getSession.sessions}}))(fe)),ye=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(j.b,{history:S,children:[Object(a.jsx)(p,{}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:"/",exact:!0,component:q}),Object(a.jsx)(j.a,{path:"/signinandsignup",exact:!0,component:Z}),Object(a.jsx)(j.a,{path:"/signin",exact:!0,component:ne}),Object(a.jsx)(j.a,{path:"/signup",exact:!0,component:de}),Object(a.jsx)(j.a,{path:"/signout",exact:!0,component:be}),Object(a.jsx)(j.a,{path:"/date/:id",exact:!0,component:ge}),Object(a.jsx)(j.a,{path:"/datepicker",exact:!0,component:ve})]})]})})}}]),n}(s.Component),Ne=n(11),Se=n(364),ke={authenticated:"",errorMessage:""};var we={sessions:[],errorMSG:""};var Me=Object(Ne.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case C:return Object(y.a)(Object(y.a)({},e),{},{authenticated:a});case D:return Object(y.a)(Object(y.a)({},e),{},{errorMessage:a});default:return e}},form:Se.a,getSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{sessions:t.payload};case L:return{errorMSG:t.payload};default:return e}}}),Ie=n(157),Ce=Object(Ne.d)(Me,{auth:{authenticated:localStorage.getItem("remember_token")}},Object(Ne.a)(Ie.a));i.a.render(Object(a.jsx)(b.a,{store:Ce,children:Object(a.jsx)(ye,{})}),document.querySelector("#root"))},82:function(e,t,n){}},[[357,1,2]]]);
//# sourceMappingURL=main.ee0fc0bb.chunk.js.map